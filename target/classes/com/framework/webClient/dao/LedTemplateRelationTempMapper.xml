<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" ><mapper namespace="com.framework.webClient.dao.LedTemplateRelationTempDao" ><select id="selectUsedLedListTempByLedmcOrLedbh" parameterType="map" resultType="map">		SELECT			LEDTEMPREL.GLID AS "glid",			LEDTEMPREL.LEDID AS "ledid",			LEDTEMPREL.MBID AS "mbid",			LEDLED.LEDMC AS "ledmc"		FROM			LED_TEMPLATE_RELATION_TEMP ledTempRel		JOIN led_led ledled ON LEDLED.LEDID = LEDTEMPREL.LEDID		<where>			<if test="mbid != null and mbid != ''">				AND LEDTEMPREL.MBID = #{mbid}			</if>			<if test="ledmc != null and ledmc != ''">				AND	LEDLED.LEDMC LIKE '%'||#{ledmc}||'%' 			</if>					<if test="ledbh != null and ledbh != ''">				AND LEDLED.LEDBH LIKE '%'||#{ledbh}||'%' 			</if>			<if test="ledid != null and ledid != '' and tag != null and tag != ''">				AND LEDTEMPREL.LEDID = #{ledid}			</if>		</where>	</select>	<delete id="delLedTempRalTempByMbid" parameterType="map">		DELETE from LED_TEMPLATE_RELATION_TEMP where MBID = #{mbid}	</delete>	<insert id="insertAllLedTemplateRelationTemp" parameterType="list">		INSERT INTO		LED_TEMPLATE_RELATION_TEMP (			GLID,			LEDID,			MBID		)		<foreach collection = "list" item = "map" index = "index" separator = "UNION ALL"> 			(				SELECT					SYS_GUID (),					#{map.ledid},					#{map.fqmbid}				FROM					DUAL			) 		</foreach>	</insert>	<delete id="delLedTempRalTempByLedid" parameterType="map">		DELETE from LED_TEMPLATE_RELATION_TEMP where LEDID = #{ledid}	</delete>	<select id="selectLedIdByMbid" parameterType="map" resultType="map">		SELECT			ledled.LEDBH AS "ledbh",			ledTempTemp.GGMC AS "ggmc"		FROM			LED_TEMPLATE_RELATION_TEMP ledTempRel		JOIN led_led ledled ON LEDLED.LEDID = LEDTEMPREL.LEDID		JOIN LED_TEMPLATE_TEMP ledTempTemp ON ledTempRel.MBID = ledTempTemp.MBID		WHERE			ledTempRel.MBID = #{mbid}	</select></mapper>